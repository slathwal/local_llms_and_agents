{
  "hash": "a29da5a5eb7c0b7ad6a09d4aaa6336da",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Basics of Ollama - Use Ollama API\"\nauthor: \"Shefali Lathwal\"\ndate: \"2025-06-01\"\ndate-modified: last-modified\neditor: visual\ntoc: true\nformat: html\njupyter: python_langchain\nexecute:\n  freeze: auto\n---\n\n\n\n\n# Interact directly with local Ollama API\n\nBefore performing this step, make sure that Ollama is installed and running on your local machine.\n\n# Get the full response from the model in a single Json object\n\n::: {#717ccd06 .cell execution_count=1}\n``` {.python .cell-code}\nimport requests\nimport json\n\nurl = \"http://localhost:11434/api/generate\" # To generate text response\n\nprompt = \"Tell me something about Canada in brief - 2 lines maximum.\"\n\ndata = {\n    \"model\":\"gemma3:4b\",\n    \"prompt\": prompt,\n    \"stream\": False\n}\n\n\nresponse_full = requests.post(url, json = data)\n```\n:::\n\n\n::: {#fc4366e7 .cell execution_count=2}\n``` {.python .cell-code}\nresponse_full.json()[\"response\"]\n```\n\n::: {.cell-output .cell-output-display execution_count=2}\n```\n'Canada is a vast, multicultural nation known for its stunning natural landscapes, including the Rocky Mountains and the Canadian Shield. It’s one of the world’s largest economies and a leading producer of resources like oil and timber.'\n```\n:::\n:::\n\n\n## Check the streaming response from the model (as a series of JSONs) and print the response\n\n::: {#f28bf3a0 .cell execution_count=3}\n``` {.python .cell-code}\ndata = {\n    \"model\":\"gemma3:4b\",\n    \"prompt\": prompt,\n    \"stream\": True\n}\n\nresponse_stream = requests.post(url, json = data)\n```\n:::\n\n\n::: {#2a768cd5 .cell execution_count=4}\n``` {.python .cell-code}\nif response_stream.status_code == 200:\n    print(\"Generated Text:\", end = \"\\n\")\n    for line in response_stream.iter_lines():\n        if line:\n            decoded_line = line.decode(\"utf-8\")\n            result = json.loads(decoded_line)\n            \n            generated_text = result.get(\"response\",\"\")\n            print(generated_text, end = \"\")\nelse:\n    print(\"Error:\", response_stream.status_code, response_stream.text)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nGenerated Text:\nCanada is a vast, bilingual nation known for its stunning natural beauty, including the Rocky Mountains and the Canadian Rockies. It’s a constitutional monarchy with a diverse and multicultural population.\n```\n:::\n:::\n\n\n",
    "supporting": [
      "01_use_ollama_API_files"
    ],
    "filters": [],
    "includes": {}
  }
}